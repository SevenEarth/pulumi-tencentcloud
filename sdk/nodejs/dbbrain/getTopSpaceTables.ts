// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import { input as inputs, output as outputs } from "../types";
import * as utilities from "../utilities";

/**
 * Use this data source to query detailed information of dbbrain topSpaceTables
 *
 * ## Example Usage
 * ### Sort by PhysicalFileSize
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@pulumi/tencentcloud";
 *
 * const topSpaceTables = pulumi.output(tencentcloud.Dbbrain.getTopSpaceTables({
 *     instanceId: "%s",
 *     product: "mysql",
 *     sortBy: "PhysicalFileSize",
 * }));
 * ```
 * ### Sort by TotalLength
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as tencentcloud from "@pulumi/tencentcloud";
 *
 * const topSpaceTables = pulumi.output(tencentcloud.Dbbrain.getTopSpaceTables({
 *     instanceId: "%s",
 *     product: "mysql",
 *     sortBy: "PhysicalFileSize",
 * }));
 * ```
 */
export function getTopSpaceTables(args: GetTopSpaceTablesArgs, opts?: pulumi.InvokeOptions): Promise<GetTopSpaceTablesResult> {
    if (!opts) {
        opts = {}
    }

    opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
    return pulumi.runtime.invoke("tencentcloud:Dbbrain/getTopSpaceTables:getTopSpaceTables", {
        "instanceId": args.instanceId,
        "limit": args.limit,
        "product": args.product,
        "resultOutputFile": args.resultOutputFile,
        "sortBy": args.sortBy,
    }, opts);
}

/**
 * A collection of arguments for invoking getTopSpaceTables.
 */
export interface GetTopSpaceTablesArgs {
    /**
     * instance id.
     */
    instanceId: string;
    /**
     * The number of Top tables returned, the maximum value is 100, and the default is 20.
     */
    limit?: number;
    /**
     * Service product type, supported values include: mysql - cloud database MySQL, cynosdb - cloud database CynosDB for MySQL, the default is mysql.
     */
    product?: string;
    /**
     * Used to save results.
     */
    resultOutputFile?: string;
    /**
     * The sorting field used to filter the Top table. The optional fields include DataLength, IndexLength, TotalLength, DataFree, FragRatio, TableRows, and PhysicalFileSize (only supported by ApsaraDB for MySQL instances). The default for ApsaraDB for MySQL instances is PhysicalFileSize, and the default for other product instances is TotalLength.
     */
    sortBy?: string;
}

/**
 * A collection of values returned by getTopSpaceTables.
 */
export interface GetTopSpaceTablesResult {
    /**
     * The provider-assigned unique ID for this managed resource.
     */
    readonly id: string;
    readonly instanceId: string;
    readonly limit?: number;
    readonly product?: string;
    readonly resultOutputFile?: string;
    readonly sortBy?: string;
    /**
     * The timestamp (in seconds) of collecting tablespace data.
     */
    readonly timestamp: number;
    /**
     * The list of Top tablespace statistics returned.
     */
    readonly topSpaceTables: outputs.Dbbrain.GetTopSpaceTablesTopSpaceTable[];
}

export function getTopSpaceTablesOutput(args: GetTopSpaceTablesOutputArgs, opts?: pulumi.InvokeOptions): pulumi.Output<GetTopSpaceTablesResult> {
    return pulumi.output(args).apply(a => getTopSpaceTables(a, opts))
}

/**
 * A collection of arguments for invoking getTopSpaceTables.
 */
export interface GetTopSpaceTablesOutputArgs {
    /**
     * instance id.
     */
    instanceId: pulumi.Input<string>;
    /**
     * The number of Top tables returned, the maximum value is 100, and the default is 20.
     */
    limit?: pulumi.Input<number>;
    /**
     * Service product type, supported values include: mysql - cloud database MySQL, cynosdb - cloud database CynosDB for MySQL, the default is mysql.
     */
    product?: pulumi.Input<string>;
    /**
     * Used to save results.
     */
    resultOutputFile?: pulumi.Input<string>;
    /**
     * The sorting field used to filter the Top table. The optional fields include DataLength, IndexLength, TotalLength, DataFree, FragRatio, TableRows, and PhysicalFileSize (only supported by ApsaraDB for MySQL instances). The default for ApsaraDB for MySQL instances is PhysicalFileSize, and the default for other product instances is TotalLength.
     */
    sortBy?: pulumi.Input<string>;
}
